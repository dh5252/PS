# [Platinum III] 그래프 균형 맞추기 - 22344 

[문제 링크](https://www.acmicpc.net/problem/22344) 

### 성능 요약

메모리: 10032 KB, 시간: 0 ms

### 분류

수학, 그래프 이론, 그래프 탐색, 정렬, 깊이 우선 탐색

### 문제 설명

<p>N개의 정점과 M개의 간선으로 구성된 무방향 단순 연결 그래프가 있다. 그래프의 정점들에는 1 이상 N 이하의 서로 다른 자연수 번호가 붙어 있고, 간선들에는 1 이상 M 이하의 서로 다른 자연수 번호가 붙어 있다.</p>

<p>j (1 ≤ j ≤ M)번 간선은 a<sub>j</sub>번 정점과 b<sub>j</sub>번 정점을 연결하며, 정수 가중치 c<sub>j</sub>가 붙어 있다.</p>

<p>당신은 모든 정점에 정수 가중치를 부여해야 한다. i (1 ≤ i ≤ N)번 정점에 부여할 가중치를 x<sub>i</sub>라고 하자.</p>

<p>정점에 가중치를 부여하는 총 비용은 각 정점의 가중치의 절댓값의 합, 즉 |x<sub>1</sub>| + |x<sub>2</sub>| + · · · + |x<sub>N</sub>|과 같다.</p>

<p>그래프의 균형이 맞으려면, 각 간선이 연결하고 있는 두 정점의 가중치의 합이 간선의 가중치와 같아야 한다. 즉, 모든 j (1 ≤ j ≤ M)에 대해, x<sub>a<sub>j</sub></sub> + x<sub>b<sub>j</sub></sub>이 c<sub>j</sub>와 같아야 한다.</p>

<p>예를 들어, 아래와 같이 5개의 정점과 4개의 간선으로 이루어진 그래프를 생각하자. 그림에서 정점을 나타 내는 원 안에 적힌 수는 정점의 번호이고, 간선을 나타내는 선에 적힌 수는 간선에 붙은 가중치이다.</p>

<p style="text-align: center;"><img alt="" src="https://upload.acmicpc.net/b1bc832a-633b-4c14-bc59-e7c0fe7f00ce/-/preview/" style="width: 132px; height: 249px;"></p>

<p>아래의 그림과 같이 각 정점에 [2, -7, 3, -5, 0]의 가중치를 부여해서, 각 간선이 연결하고 있는 두 정점의 가중치의 합이 간선의 가중치와 같게 할 수 있다. 아래 그림에서 정점을 나타내는 원 안에 적힌 수는 정점의 가중치이다.</p>

<p style="text-align: center;"><img alt="" src="https://upload.acmicpc.net/78b82521-224f-4eda-bd93-2ee2001f1385/-/preview/" style="width: 132px; height: 245px;"></p>

<p>총 비용은 |2| + | − 7| + |3| + | − 5| + |0| = 2 + 7 + 3 + 5 + 0 = 17이다. 총 비용을 17보다 작게 할 수 있는 방법은 없기 때문에, 위 방법은 총 비용을 최소화하는 방법이다.</p>

<p>아래와 같이 각 정점에 [6, -3, -1, -9, 4]의 가중치를 부여해도 균형이 맞는 그래프가 되지만, 이 경우 총 비용은 17보다 큰 23이 되기 때문에 아래 방법은 총 비용을 최소화하는 방법이 아니다.</p>

<p style="text-align: center;"><img alt="" src="https://upload.acmicpc.net/2d164b11-c1b8-4080-85b6-70c7611cd170/-/preview/" style="width: 132px; height: 251px;"></p>

<p>그래프의 균형이 맞도록 정점에 가중치를 부여하는 것이 <strong>가능한지 확인</strong>하고, 가능하다면 그 중 <strong>총 비용을 최소화</strong>하는 방법을 하나 구하는 프로그램을 작성하라.</p>

### 입력 

 <p>첫째 줄에 N과 M이 순서대로 공백을 사이에 두고 주어진다.</p>

<p>다음 M개의 줄에 각 간선에 대한 정보가 주어진다. 이 중 j (1 ≤ j ≤ M)번째 줄에는 세 정수 a<sub>j</sub>, b<sub>j</sub>, c<sub>j</sub>가 공백 하나씩을 사이로 두고 주어진다.</p>

### 출력 

 <p>만약 그래프의 균형이 맞도록 정점에 정수 가중치를 부여하는 방법이 존재한다면:</p>

<ul>
	<li>첫째 줄에 <code>Yes</code>를 출력한다. 출력은 대소문자를 구분하지 않는다.</li>
	<li>둘째 줄에 각 정점에 부여한 가중치를 나타내는 N개의 정수 x<sub>1</sub>, x<sub>2</sub>, . . ., x<sub>N</sub>을 공백 하나씩 사이에 두고 출력한다. 그래프의 균형이 맞도록 하면서 총 비용을 최소화하는 방법이 여럿 존재한다면, 그러한 방법들 가운데 어떤 것을 출력해도 된다.</li>
</ul>

<p>만약 그래프의 균형이 맞도록 정점에 정수 가중치를 부여하는 방법이 존재하지 않는다면:</p>

<ul>
	<li>첫째 줄에 <code>No</code>를 출력한다. 출력은 대소문자를 구분하지 않는다.</li>
</ul>

